import{u as K,i as q}from"./action-NPygQj2q.js";import{aH as c,l as M,ay as Q,w as I,I as W,J as r,A as i,u as n,z as U,E as B,L as X,h as C,H as s,y as z,C as h,P as Y,K as Z,G as b}from"./vendor-D2QpS8Sq.js";import{S as w,y as ee}from"./tool-BjIByA9b.js";import{l as S}from"./vendor-lodash-BDISS5yc.js";import{I as f}from"./Item-DmYEXjcM.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-monaco-CZQ85J0D.js";const d={normalize:u=>{try{return u!==""?c.normalize(u):""}catch(o){return $error(o)}},abbreviate:u=>{try{return u!==""?c.abbreviate(u):""}catch(o){return $error(o)}},validate:u=>(c.validate(u),!0),subnet:(u,o=32,m=64,e=8,p=!1,v=!1)=>{if(u==="")return w.empty();try{return w.formObject(v?c.randomSubnet(u,o,m,e,p):c.divideSubnet(u,o,m,e,p))}catch($){return w.fromError($error($))}},range:(u,o=32,m=64,e=!1)=>{if(u==="")return{start:"",end:"",size:0n};try{return c.rangeBigInt(u,o,m,e)}catch(p){return{start:$error(p),end:$error(p),size:0n}}},ptr:(u,o=32)=>{if(u==="")return"";try{return c.ptr(u,o)}catch(m){return $error(m)}}},te={style:{display:"grid","grid-template-columns":"1fr 1fr"}},re={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"}},pe=M({__name:"Ipv6",async setup(u){let o,m;const e=K(([o,m]=Q(()=>q({input:"2404:68::",mask0:32,mask1:64,limit:100,abbr:!1,random:!1,maskPtr:32,subnetOption:ee("text")},{paste:t=>{try{d.validate(t)}catch{return!1}return!0}})),o=await o,m(),o));let p=C("");const v=C(!1);I(()=>({input:e.current.input.trim()}),()=>{p.value="";try{if(e.current.input.trim()==="")throw new Error("Input Empty");d.validate(e.current.input)}catch(t){p.value=$error(t)}}),I(()=>({current:e.current}),()=>{e.current.input.trim()!==""&&e.save()},{deep:!0,immediate:!0});const $=b(()=>d.normalize(e.current.input.trim())),P=b(()=>d.abbreviate(e.current.input.trim())),O=b(()=>d.subnet(e.current.input.trim(),e.current.mask0,e.current.mask1,e.current.limit,e.current.abbr,e.current.random)),y=b(()=>d.range(e.current.input.trim(),e.current.mask0,e.current.mask1,e.current.abbr)),H=b(()=>d.ptr(e.current.input.trim(),e.current.maskPtr)),N=S.range(0,128).map(t=>({value:t,label:`/${t}`})),A=S.range(0,129,4).map(t=>({value:t,label:`/${t}`})),L=b(()=>{const t=S.range(e.current.mask0+1,129);return t.includes(e.current.mask1)||t.push(e.current.mask1),t.map(l=>({value:l,label:`/${l}`}))});return(t,l)=>{const j=s("Input"),x=s("HelpTip"),_=s("Align"),V=s("Card"),k=s("Select"),g=s("Bool"),R=s("Button"),T=s("Exception"),E=s("HeightResize"),D=s("SerializeOutput"),F=s("InputNumber"),G=s("ExtendPage");return z(),W(X,null,[r(_,{horizontal:"center",class:"sectool-page-option",bottom:"default"},{default:i(()=>[r(j,{size:"large",width:400,modelValue:n(e).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>n(e).current.input=a),label:t.$t("ipcalc_ip")},null,8,["modelValue","label"]),r(x,{link:"https://www.npmjs.com/package/ip6"})]),_:1}),n(p)===""?(z(),U(_,{key:0,direction:"vertical"},{default:i(()=>[r(V,{title:t.$t("ipcalc_ip_info"),padding:"0"},{extra:i(()=>[Y(Z(n(e).current.input),1)]),default:i(()=>[h("div",te,[r(f,{title:t.$t("ipcalc_ip_info_full"),value:$.value},null,8,["title","value"]),r(f,{title:t.$t("ipcalc_ip_info_short"),value:P.value},null,8,["title","value"])])]),_:1},8,["title"]),r(V,{title:t.$t("ipcalc_network_info"),padding:"0"},{extra:i(()=>[r(_,null,{default:i(()=>[r(k,{size:"small",options:n(N),modelValue:n(e).current.mask0,"onUpdate:modelValue":l[1]||(l[1]=a=>n(e).current.mask0=a)},null,8,["options","modelValue"]),r(k,{size:"small",options:L.value,modelValue:n(e).current.mask1,"onUpdate:modelValue":l[2]||(l[2]=a=>n(e).current.mask1=a)},null,8,["options","modelValue"]),r(g,{type:"primary",size:"small",modelValue:n(e).current.abbr,"onUpdate:modelValue":l[3]||(l[3]=a=>n(e).current.abbr=a),label:t.$t("ipcalc_short"),border:""},null,8,["modelValue","label"]),r(R,{type:"primary",size:"small",text:t.$t("ipcalc_subnet"),onClick:l[4]||(l[4]=a=>v.value=!0)},null,8,["text"])]),_:1})]),default:i(()=>[h("div",re,[r(f,{title:t.$t("ipcalc_network_info_size"),value:`${y.value.size}`},null,8,["title","value"]),r(f,{title:t.$t("ipcalc_network_info_first"),value:y.value.start},null,8,["title","value"]),r(f,{title:t.$t("ipcalc_network_info_last"),value:y.value.end},null,8,["title","value"])])]),_:1},8,["title"]),r(V,{title:t.$t("ipcalc_ip_info_ptr")},{extra:i(()=>[r(k,{size:"small",options:n(A),modelValue:n(e).current.maskPtr,"onUpdate:modelValue":l[5]||(l[5]=a=>n(e).current.maskPtr=a)},null,8,["options","modelValue"])]),default:i(()=>[r(f,{value:H.value},null,8,["value"])]),_:1},8,["title"])]),_:1})):B("",!0),n(p)!==""?(z(),U(E,{key:1,append:[".sectool-page-option"]},{default:i(()=>[r(T,{content:n(p)},null,8,["content"])]),_:1})):B("",!0),r(G,{modelValue:v.value,"onUpdate:modelValue":l[10]||(l[10]=a=>v.value=a),title:`${n(e).current.input} ${t.$t("ipcalc_subnet")}`},{default:i(()=>[r(V,{title:`${n(e).current.input} ${t.$t("ipcalc_subnet")}`,padding:"0"},{extra:i(()=>[r(_,null,{default:i(()=>[r(F,{size:"small",width:120,modelValue:n(e).current.limit,"onUpdate:modelValue":l[7]||(l[7]=a=>n(e).current.limit=a),label:t.$t("ipcalc_limit")},null,8,["modelValue","label"]),r(g,{type:"primary",size:"small",modelValue:n(e).current.abbr,"onUpdate:modelValue":l[8]||(l[8]=a=>n(e).current.abbr=a),label:t.$t("ipcalc_short"),border:""},null,8,["modelValue","label"]),r(g,{type:"primary",size:"small",modelValue:n(e).current.random,"onUpdate:modelValue":l[9]||(l[9]=a=>n(e).current.random=a),label:t.$t("ipcalc_random"),border:""},null,8,["modelValue","label"])]),_:1})]),default:i(()=>[r(E,{reduce:35},{default:i(({height:a})=>[r(D,{"disabled-border":"",modelValue:n(e).current.subnetOption,"onUpdate:modelValue":l[6]||(l[6]=J=>n(e).current.subnetOption=J),allow:["json","xml","yaml","toml","php_array","properties","text"],content:O.value,height:a},null,8,["modelValue","content","height"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue","title"])],64)}}});export{pe as default};
