import{u as T,i as h}from"./action-DbkO0_5I.js";import{k as w,l as U,T as i}from"./tool-Tf4xlnLR.js";import{l as z,ay as E,z as v,A as p,H as u,J as a,u as o,G as C,y as k,aC as c}from"./vendor-D2QpS8Sq.js";import"./vendor-lodash-BDISS5yc.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-monaco-CZQ85J0D.js";const $=z({__name:"Encoder",async setup(B){let l,s;const t=T(([l,s]=E(()=>h({input:U("text"),deflate:!1,output:w("base64")})),l=await l,s(),l)),m=C(()=>{if(t.current.input.text.isEmpty())return i.empty();if(t.current.input.text.isError())return t.current.input.text;try{if(!t.current.input.text.isText())throw new Error("input content must text / text file");let n;return t.current.deflate?n=i.fromUint8Array(c.deflate(t.current.input.text.toUint8Array())):n=i.fromUint8Array(c.gzip(t.current.input.text.toUint8Array())),n.setExtension(".gz"),n}catch(n){return i.fromError($error(n))}});return(n,e)=>{const d=u("TextInput"),f=u("Bool"),x=u("Display"),_=u("TextOutput"),y=u("Align"),g=u("HeightResize");return k(),v(g,{reduce:5},{default:p(({small:V,large:A})=>[a(y,{direction:"vertical"},{default:p(()=>[a(x,null,{extra:p(()=>[a(f,{modelValue:o(t).current.deflate,"onUpdate:modelValue":e[1]||(e[1]=r=>o(t).current.deflate=r),label:"Deflate"},null,8,["modelValue"])]),default:p(()=>[a(d,{modelValue:o(t).current.input,"onUpdate:modelValue":e[0]||(e[0]=r=>o(t).current.input=r),height:V,upload:"file",encoding:""},null,8,["modelValue","height"])]),_:2},1024),a(_,{modelValue:o(t).current.output,"onUpdate:modelValue":e[2]||(e[2]=r=>o(t).current.output=r),allow:["base64","hex","down"],content:m.value,height:A,onSuccess:e[3]||(e[3]=r=>o(t).save())},null,8,["modelValue","content","height"])]),_:2},1024)]),_:1})}}});export{$ as default};
