const d=["unicode_point_default","unicode_point_wide","unicode_point_wide_brace","unicode_number","html_entity_10","html_entity_16","css_entity"],_={decode(r,n="unicode_point_default"){const t=(e,o)=>{try{return o&&o()}catch(c){throw new Error(`${e} decode error:${$error(c)}`)}};switch(n){case"unicode_point_default":return r.replace(/\\U[0-9a-f]{4}/gi,e=>t(e,()=>String.fromCodePoint(parseInt(`0x${e.toLowerCase().replace("\\u","")}`))));case"unicode_point_wide":return r.replace(/\\U[0-9a-f]{1,6}/gi,e=>t(e,()=>String.fromCodePoint(parseInt(`0x${e.toLowerCase().replace("\\u","")}`))));case"unicode_point_wide_brace":return r.replace(/\\U\{[0-9a-f]{1,6}\}/gi,e=>t(e,()=>String.fromCodePoint(parseInt(`0x${e.toLowerCase().replace("\\u","").replace("{","").replace("}","")}`))));case"unicode_number":return r.replace(/U\+[0-9a-fA-F]{1,6}/g,e=>t(e,()=>String.fromCodePoint(parseInt(`0x${e.replace("U","").toLowerCase().replace("+","")}`))));case"html_entity_10":return r.replace(/&#\d+;/g,e=>t(e,()=>String.fromCodePoint(parseInt(`${e.replace("&#","").replace(";","")}`))));case"html_entity_16":return r.replace(/&#x[0-9a-fA-F]{1,6};/g,e=>t(e,()=>String.fromCodePoint(parseInt(`0x${e.replace("&#x","").toLowerCase().replace(";","")}`))));case"css_entity":return r.replace(/\\[0-9a-f]{1,6}/gi,e=>t(e,()=>String.fromCodePoint(parseInt(`0x${e.replace("\\","").toLowerCase()}`))))}throw new Error("decode type error")},encode(r,n="unicode_point_default",t=!1){var o,c;const e=[];for(const i of r){const u=((o=i.codePointAt(0))==null?void 0:o.toString(10))||"",a=((c=i.codePointAt(0))==null?void 0:c.toString(16))||"";if(a.length<3&&t){e.push(i);continue}const p=this.repair(a);switch(n){case"unicode_point_default":a.length>4?e.push(...this.charToUtf16(i).map(s=>`\\u${s}`)):e.push(`\\u${p}`);break;case"unicode_point_wide":e.push(`\\u${p}`);break;case"unicode_point_wide_brace":e.push(`\\u{${a}}`);break;case"unicode_number":e.push(`U+${p.toUpperCase()}`);break;case"html_entity_10":e.push(`&#${u};`);break;case"html_entity_16":e.push(`&#x${a};`);break;case"css_entity":e.push(`\\${p}`);break;default:throw new Error("encode type error")}}return e.join("")},charToUtf16(r){const n=[];for(let t=0;t<r.length;t++)n[t]=this.repair(r.charCodeAt(t).toString(16));return n},repair(r){return r.length>3?r:`${"0".repeat(4-r.length)}${r}`}};export{_ as U,d as _};
